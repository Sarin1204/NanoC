funcend will be after ret
